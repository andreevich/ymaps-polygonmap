!function(r){var e={};function n(i){if(e[i])return e[i].exports;var t=e[i]={i:i,l:!1,exports:{}};return r[i].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=r,n.c=e,n.d=function(r,e,i){n.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,"a",e),e},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.p="",n(n.s=15)}([function(r,e,n){"use strict";r.exports=function(r,e,n){var t=r*e,o=i*r,g=o-(o-r),d=r-g,a=i*e,b=a-(a-e),x=e-b,s=d*x-(t-g*b-d*b-g*x);if(n)return n[0]=s,n[1]=t,n;return[s,t]};var i=+(Math.pow(2,27)+1)},function(r,e,n){"use strict";r.exports=function(r,e){var n=0|r.length,i=0|e.length;if(1===n&&1===i)return function(r,e){var n=r+e,i=n-r,t=r-(n-i)+(e-i);if(t)return[t,n];return[n]}(r[0],-e[0]);var t,o,g=new Array(n+i),d=0,a=0,b=0,x=Math.abs,s=r[a],u=x(s),l=-e[b],p=x(l);u<p?(o=s,(a+=1)<n&&(s=r[a],u=x(s))):(o=l,(b+=1)<i&&(l=-e[b],p=x(l)));a<n&&u<p||b>=i?(t=s,(a+=1)<n&&(s=r[a],u=x(s))):(t=l,(b+=1)<i&&(l=-e[b],p=x(l)));var f,c,h=t+o,v=h-t,y=o-v,m=y,_=h;for(;a<n&&b<i;)u<p?(t=s,(a+=1)<n&&(s=r[a],u=x(s))):(t=l,(b+=1)<i&&(l=-e[b],p=x(l))),(y=(o=m)-(v=(h=t+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f;for(;a<n;)(y=(o=m)-(v=(h=(t=s)+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f,(a+=1)<n&&(s=r[a]);for(;b<i;)(y=(o=m)-(v=(h=(t=l)+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f,(b+=1)<i&&(l=-e[b]);m&&(g[d++]=m);_&&(g[d++]=_);d||(g[d++]=0);return g.length=d,g}},function(r,e,n){"use strict";r.exports=function(r,e,n){var i=r+e,t=i-r,o=e-t,g=r-(i-t);if(n)return n[0]=g+o,n[1]=i,n;return[g+o,i]}},function(r,e,n){"use strict";var i=n(0),t=n(2);r.exports=function(r,e){var n=r.length;if(1===n){var o=i(r[0],e);return o[0]?o:[o[1]]}var g=new Array(2*n),d=[.1,.1],a=[.1,.1],b=0;i(r[0],e,d),d[0]&&(g[b++]=d[0]);for(var x=1;x<n;++x){i(r[x],e,a);var s=d[1];t(s,a[0],d),d[0]&&(g[b++]=d[0]);var u=a[1],l=d[1],p=u+l,f=p-u,c=l-f;d[1]=p,c&&(g[b++]=c)}d[1]&&(g[b++]=d[1]);0===b&&(g[b++]=0);return g.length=b,g}},function(r,e,n){"use strict";r.exports=function(r,e){var n=0|r.length,i=0|e.length;if(1===n&&1===i)return function(r,e){var n=r+e,i=n-r,t=r-(n-i)+(e-i);if(t)return[t,n];return[n]}(r[0],e[0]);var t,o,g=new Array(n+i),d=0,a=0,b=0,x=Math.abs,s=r[a],u=x(s),l=e[b],p=x(l);u<p?(o=s,(a+=1)<n&&(s=r[a],u=x(s))):(o=l,(b+=1)<i&&(l=e[b],p=x(l)));a<n&&u<p||b>=i?(t=s,(a+=1)<n&&(s=r[a],u=x(s))):(t=l,(b+=1)<i&&(l=e[b],p=x(l)));var f,c,h=t+o,v=h-t,y=o-v,m=y,_=h;for(;a<n&&b<i;)u<p?(t=s,(a+=1)<n&&(s=r[a],u=x(s))):(t=l,(b+=1)<i&&(l=e[b],p=x(l))),(y=(o=m)-(v=(h=t+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f;for(;a<n;)(y=(o=m)-(v=(h=(t=s)+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f,(a+=1)<n&&(s=r[a]);for(;b<i;)(y=(o=m)-(v=(h=(t=l)+o)-t))&&(g[d++]=y),m=_-((f=_+h)-(c=f-_))+(h-c),_=f,(b+=1)<i&&(l=e[b]);m&&(g[d++]=m);_&&(g[d++]=_);d||(g[d++]=0);return g.length=d,g}},function(r,e,n){"use strict";var i=n(0),t=n(4),o=n(3),g=n(1),d=5;function a(r,e){for(var n=new Array(r.length-1),i=1;i<r.length;++i)for(var t=n[i-1]=new Array(r.length-1),o=0,g=0;o<r.length;++o)o!==e&&(t[g++]=r[i][o]);return n}function b(r){if(1===r.length)return r[0];if(2===r.length)return["sum(",r[0],",",r[1],")"].join("");var e=r.length>>1;return["sum(",b(r.slice(0,e)),",",b(r.slice(e)),")"].join("")}function x(r){if(2===r.length)return[["sum(prod(",r[0][0],",",r[1][1],"),prod(-",r[0][1],",",r[1][0],"))"].join("")];for(var e=[],n=0;n<r.length;++n)e.push(["scale(",b(x(a(r,n))),",",(i=n,1&i?"-":""),r[0][n],")"].join(""));return e;var i}function s(r){for(var e=[],n=[],d=function(r){for(var e=new Array(r),n=0;n<r;++n){e[n]=new Array(r);for(var i=0;i<r;++i)e[n][i]=["m",i,"[",r-n-1,"]"].join("")}return e}(r),s=[],u=0;u<r;++u)0==(1&u)?e.push.apply(e,x(a(d,u))):n.push.apply(n,x(a(d,u))),s.push("m"+u);var l=b(e),p=b(n),f="orientation"+r+"Exact",c=["function ",f,"(",s.join(),"){var p=",l,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",f].join("");return new Function("sum","prod","scale","sub",c)(t,i,o,g)}var u=s(3),l=s(4),p=[function(){return 0},function(){return 0},function(r,e){return e[0]-r[0]},function(r,e,n){var i,t=(r[1]-n[1])*(e[0]-n[0]),o=(r[0]-n[0])*(e[1]-n[1]),g=t-o;if(t>0){if(o<=0)return g;i=t+o}else{if(!(t<0))return g;if(o>=0)return g;i=-(t+o)}var d=3.3306690738754716e-16*i;return g>=d||g<=-d?g:u(r,e,n)},function(r,e,n,i){var t=r[0]-i[0],o=e[0]-i[0],g=n[0]-i[0],d=r[1]-i[1],a=e[1]-i[1],b=n[1]-i[1],x=r[2]-i[2],s=e[2]-i[2],u=n[2]-i[2],p=o*b,f=g*a,c=g*d,h=t*b,v=t*a,y=o*d,m=x*(p-f)+s*(c-h)+u*(v-y),_=7.771561172376103e-16*((Math.abs(p)+Math.abs(f))*Math.abs(x)+(Math.abs(c)+Math.abs(h))*Math.abs(s)+(Math.abs(v)+Math.abs(y))*Math.abs(u));return m>_||-m>_?m:l(r,e,n,i)}];!function(){for(;p.length<=d;)p.push(s(p.length));for(var e=[],n=["slow"],i=0;i<=d;++i)e.push("a"+i),n.push("o"+i);var t=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=d;++i)t.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");t.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(t.join(""));var o=Function.apply(void 0,n);for(r.exports=o.apply(void 0,[function(r){var e=p[r.length];return e||(e=p[r.length]=s(r.length)),e.apply(void 0,r)}].concat(p)),i=0;i<=d;++i)r.exports[i]=p[i]}()},function(r,e,n){r.exports=function(r,e){for(var n=e[0],t=e[1],o=r.length,g=1,d=o,a=0,b=o-1;a<d;b=a++){var x=r[a],s=r[b],u=x[1],l=s[1];if(l<u){if(l<t&&t<u){var p=i(x,s,e);if(0===p)return 0;g^=0<p|0}else if(t===u){var f=r[(a+1)%o],c=f[1];if(u<c){var p=i(x,s,e);if(0===p)return 0;g^=0<p|0}}}else if(u<l){if(u<t&&t<l){var p=i(x,s,e);if(0===p)return 0;g^=p<0|0}else if(t===u){var f=r[(a+1)%o],c=f[1];if(c<u){var p=i(x,s,e);if(0===p)return 0;g^=p<0|0}}}else if(t===u){var h=Math.min(x[0],s[0]),v=Math.max(x[0],s[0]);if(0===a){for(;b>0;){var y=(b+o-1)%o,m=r[y];if(m[1]!==t)break;var _=m[0];h=Math.min(h,_),v=Math.max(v,_),b=y}if(0===b)return h<=n&&n<=v?0:1;d=b+1}for(var M=r[(b+o-1)%o][1];a+1<d;){var m=r[a+1];if(m[1]!==t)break;var _=m[0];h=Math.min(h,_),v=Math.max(v,_),a+=1}if(h<=n&&n<=v)return 0;var C=r[(a+1)%o][1];n<h&&M<t!=C<t&&(g^=1)}}return 2*g-1};var i=n(5)},function(r,e,n){"use strict";e.__esModule=!0;var i,t=n(6),o=(i=t)&&i.__esModule?i:{default:i};e.default=function(r,e){function n(r,e){return 1!==(0,o.default)(r,e)}var i=e.coordinates,t=r.coordinates,g=!1;if(g=n(t[0],i))for(var d=1;d<t.length&&!g;d++){var a=n(t[d],i);a&&(g=!a)}else for(var b=1;b<t.length&&g;b++){var x=n(t[b],i);x&&(g=x)}return g}},function(r,e){r.exports=function(r,e,n){return r*(1-n)+e*n}},function(r,e){r.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},function(r,e,n){"use strict";var i=n(9),t=n(8);function o(r){return[r[0]/255,r[1]/255,r[2]/255,r[3]]}function g(r){for(var e,n="#",i=0;i<3;++i)n+=("00"+(e=(e=r[i]).toString(16))).substr(e.length);return n}function d(r){return"rgba("+r.join(",")+")"}r.exports=function(r){var e,n,a,b,x,s,u,l,p,f;r||(r={});l=(r.nshades||72)-1,u=r.format||"hex",(s=r.colormap)||(s="jet");if("string"==typeof s){if(s=s.toLowerCase(),!i[s])throw Error(s+" not a supported colorscale");x=i[s]}else{if(!Array.isArray(s))throw Error("unsupported colormap option",s);x=s.slice()}if(x.length>l)throw new Error(s+" map requires nshades to be at least size "+x.length);p=Array.isArray(r.alpha)?2!==r.alpha.length?[1,1]:r.alpha.slice():"number"==typeof r.alpha?[r.alpha,r.alpha]:[1,1];e=x.map(function(r){return Math.round(r.index*l)}),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var c=x.map(function(r,e){var n=x[e].index,i=x[e].rgb.slice();return 4===i.length&&i[3]>=0&&i[3]<=1?i:(i[3]=p[0]+(p[1]-p[0])*n,i)}),h=[];for(f=0;f<e.length-1;++f){b=e[f+1]-e[f],n=c[f],a=c[f+1];for(var v=0;v<b;v++){var y=v/b;h.push([Math.round(t(n[0],a[0],y)),Math.round(t(n[1],a[1],y)),Math.round(t(n[2],a[2],y)),t(n[3],a[3],y)])}}h.push(x[x.length-1].rgb.concat(p[1])),"hex"===u?h=h.map(g):"rgbaString"===u?h=h.map(d):"float"===u&&(h=h.map(o));return h}},function(r,e,n){"use strict";e.__esModule=!0;var i,t=n(10),o=(i=t)&&i.__esModule?i:{default:i};var g=function(){function r(e,n){if(function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._rangesCount=n.rangesCount,"number"!=typeof e)throw new Error('Wrong "maxPointsCount" value');this._maxPointsCount=e,this._colors=(0,o.default)({colormap:n.colormap,nshades:this._rangesCount,format:n.format,alpha:n.alpha}).reverse(),this._ranges=this._createRangesArray()}return r.prototype._createRangesArray=function(){for(var r=[],e=0;e<parseInt(this._maxPointsCount/this._rangesCount,10);e++)r.push(e*this._rangesCount);return r.push(this._maxPointsCount+1),r},r.prototype.getColorMap=function(){return this._colors},r.prototype.getColor=function(r){for(var e=this._colors[0],n=0;n<=this._ranges.length;n++)r>=this._ranges[n]&&r<this._ranges[n+1]&&(e=this._colors[n]);return e},r}();e.default=g},function(r,e,n){"use strict";e.__esModule=!0;var i,t=n(11),o=(i=t)&&i.__esModule?i:{default:i};e.default=function(r){var e=new o.default(this.pointsCountMaximum,this.options.get("color"));return r.properties.pointsCount>0&&r.properties.pointsCount<100?r.options={fillColor:e.getColor(r.properties.pointsCount),strokeColor:"999999"}:r.properties.pointsCount>=160?r.options={fillColor:e.getColor(99),strokeColor:"999999"}:r.properties.pointsCount>=120?r.options={fillColor:e.getColor(70),strokeColor:"999999"}:r.properties.pointsCount>=100?r.options={fillColor:e.getColor(60),strokeColor:"999999"}:r.options={fillColor:"aaaaaa00",strokeColor:"999999"},r}},function(r,e,n){"use strict";e.__esModule=!0;e.default=function r(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?e.reverse():e.length>0&&e[0]instanceof Array?e.map(r):e}},function(r,e,n){"use strict";e.__esModule=!0;var i,t=n(13),o=(i=t)&&i.__esModule?i:{default:i};e.default=function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,t=r.geometry.type;return"MultiPolygon"===r.geometry.type?(t="Polygon",i=r.geometry.coordinates.reduce(function(r,n){return void 0!==e&&"longlat"===e.coordinatesOrder?r.concat(n):r.concat((0,o.default)(n))},[])):i=void 0!==e&&"longlat"===e.coordinatesOrder?r.geometry.coordinates:(0,o.default)(r.geometry.coordinates),Object.assign({},n,r,{geometry:{type:t,coordinates:i}})}},function(r,e,n){"use strict";var i=g(n(14)),t=g(n(12)),o=g(n(7));function g(r){return r&&r.__esModule?r:{default:r}}ymaps.modules.define("Polygonmap",["meta","option.Manager","ObjectManager"],function(r,e,n,g){r(function(){function r(e,i){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=new n({mapper:t.default,color:{rangesCount:10,colormap:"cdom",format:"rgbaString",alpha:.9},interactivity:{mouseEnter:{fillOpacity:.5,strokeWidth:2},mouseLeave:{fillOpacity:1,strokeWidth:1},createBalloonContent:function(r){return"<div><h3>Данные об объекте</h3><div>Количество точек: "+r.properties.pointsCount+"</div></div>"}}});this.options=new n(i,o);var g=this.options.get("mapper");this.options.set("mapper",g.bind(this)),this.setData(e)}return r.prototype.getData=function(){return this._data||null},r.prototype.setData=function(r){return this._data=r,r&&(this._data={points:{type:"FeatureCollection",features:[]},polygons:{type:"FeatureCollection",features:[]}},this._prepare(r)),this},r.prototype.getMap=function(){return this._map},r.prototype.setMap=function(r){return this._map!==r&&(this._map=r,r&&this._data&&this._render()),this},r.prototype.destroy=function(){this.setData(null),this.setMap(null)},r.prototype._prepare=function(r){var n=r.polygons.features,t=r.points.features,g=0;if("FeatureCollection"===r.polygons.type&&"FeatureCollection"===r.points.type)for(var d=0;d<n.length;d++){for(var a=[],b=(0,i.default)(n[d],e,{id:d}),x=0,s=0;s<t.length;s++){var u=void 0;0===d?(u=(0,i.default)(t[s],e,{id:s}),this._data.points.features.push(u)):u=t[s],(0,o.default)(b.geometry,u.geometry)?x++:a.push(u)}t=a,x>g&&(g=x),b.properties=b.properties||{},b.properties.pointsCount=x,this._data.polygons.features.push(b)}this.pointsCountMaximum=g},r.prototype._render=function(){var r=this.options.get("mapper");this._data.polygons.features=this._data.polygons.features.map(r),this.polygons=new g,this.polygons.add(this._data.polygons),this._initInteractivity(this.polygons),this._map.geoObjects.add(this.polygons)},r.prototype._initInteractivity=function(r){var e=this.options.get("interactivity");r.events.add("mouseenter",function(n){var i=n.get("objectId");r.objects.setObjectOptions(i,e.mouseEnter)}),r.events.add("mouseleave",function(n){var i=n.get("objectId");r.objects.setObjectOptions(i,e.mouseLeave)});var n=new ymaps.Balloon(this._map);n.options.setParent(this._map.options),r.events.add("click",function(i){var t=i.get("objectId"),o=r.objects.getById(t);n.setData({content:e.createBalloonContent(o)}),n.open(o.geometry.coordinates[0][0])})},r}())})}]);